# autogenerated by bellmaniac
import sys
plus = min
zero = sys.maxint
DIM = 64
MIN = 0
MAX = 1000
from numpy import *

n = DIM
x = random.randint(MIN, MAX, size=(DIM))
w = random.randint(MIN, MAX, size=(DIM, DIM, DIM))
def c_alloc():
  return zeros((n, n), int)
def c(T, oi, oj):
  for i0 in xrange(((-1)*n + 1),1):
    for j0 in xrange(((-1)*i0 + 1),n):
      i = (0 - i0)
      j = j0
      assert ((((0 <= i) and (i < n)) and (i < j)) and (j < n))
      T[(i + oi), (j + oj)] = (x[i] if (i == (j - 1)) else reduce(plus, [((T[(i + oi), (k + oj)] + T[(k + oi), (j + oj)]) + w[i, k, j]) for k in xrange((i + 1), j)], zero))
def d1_alloc(n, w, r, s, t, w_0, w_1, w_2, r_0, r_1, s_0, s_1, t_0, t_1):
  return zeros((n/2, n/2), int)
def d1(T, oi, oj, n, w, r, s, t, w_0, w_1, w_2, r_0, r_1, s_0, s_1, t_0, t_1):
  if (n < 4):
    d(T, oi, oj, n, w, r, s, t, w_0, w_1, w_2, r_0, r_1, s_0, s_1, t_0, t_1)
    return
  T849 = d1_alloc(n/2, w, r, s, t, w_0, (n/4 + w_1), w_2, r_0, r_1, s_0, (n/4 + s_1), (n/4 + t_0), t_1)
  d1(T849, 0, 0, n/2, w, r, s, t, w_0, (n/4 + w_1), w_2, r_0, r_1, s_0, (n/4 + s_1), (n/4 + t_0), t_1)
  d1(T, oi, oj, n/2, w, T849, s, t, w_0, w_1, w_2, 0, 0, s_0, s_1, t_0, t_1)
  T850 = d1_alloc(n/2, w, r, s, t, w_0, w_1, (n/4 + w_2), r_0, (n/4 + r_1), s_0, s_1, t_0, (n/4 + t_1))
  d1(T850, 0, 0, n/2, w, r, s, t, w_0, w_1, (n/4 + w_2), r_0, (n/4 + r_1), s_0, s_1, t_0, (n/4 + t_1))
  d1(T, oi, (oj + n/4), n/2, w, T850, s, t, w_0, (n/4 + w_1), (n/4 + w_2), 0, 0, s_0, (n/4 + s_1), (n/4 + t_0), (n/4 + t_1))
  T851 = d1_alloc(n/2, w, r, s, t, (n/4 + w_0), w_1, w_2, (n/4 + r_0), r_1, (n/4 + s_0), s_1, t_0, t_1)
  d1(T851, 0, 0, n/2, w, r, s, t, (n/4 + w_0), w_1, w_2, (n/4 + r_0), r_1, (n/4 + s_0), s_1, t_0, t_1)
  d1(T, (oi + n/4), oj, n/2, w, T851, s, t, (n/4 + w_0), (n/4 + w_1), w_2, 0, 0, (n/4 + s_0), (n/4 + s_1), (n/4 + t_0), t_1)
  T852 = d1_alloc(n/2, w, r, s, t, (n/4 + w_0), w_1, (n/4 + w_2), (n/4 + r_0), (n/4 + r_1), (n/4 + s_0), s_1, t_0, (n/4 + t_1))
  d1(T852, 0, 0, n/2, w, r, s, t, (n/4 + w_0), w_1, (n/4 + w_2), (n/4 + r_0), (n/4 + r_1), (n/4 + s_0), s_1, t_0, (n/4 + t_1))
  d1(T, (oi + n/4), (oj + n/4), n/2, w, T852, s, t, (n/4 + w_0), (n/4 + w_1), (n/4 + w_2), 0, 0, (n/4 + s_0), (n/4 + s_1), (n/4 + t_0), (n/4 + t_1))
def b1_alloc(n, w, r, s, t, w1, w_0, w_1, w_2, r_0, r_1, s_0, s_1, t_0, t_1, w1_0, w1_1, w1_2):
  return zeros((n/2, n), int)
def b1(T, oi, oj, n, w, r, s, t, w1, w_0, w_1, w_2, r_0, r_1, s_0, s_1, t_0, t_1, w1_0, w1_1, w1_2):
  if (n < 4):
    b0(T, oi, oj, n, w, r, s, t, w1, w_0, w_1, w_2, r_0, r_1, s_0, s_1, t_0, t_1, w1_0, w1_1, w1_2)
    return
  T854 = b1_alloc(n/2, w, r, s, t, w1, (n/4 + w_0), (n/4 + w_1), (n/4 + w_2), (n/4 + r_0), (n/4 + r_1), (n/4 + s_0), (n/4 + s_1), (n/4 + t_0), (n/4 + t_1), (n/4 + w1_0), (n/4 + w1_1), (n/4 + w1_2))
  b1(T854, 0, 0, n/2, w, r, s, t, w1, (n/4 + w_0), (n/4 + w_1), (n/4 + w_2), (n/4 + r_0), (n/4 + r_1), (n/4 + s_0), (n/4 + s_1), (n/4 + t_0), (n/4 + t_1), (n/4 + w1_0), (n/4 + w1_1), (n/4 + w1_2))
  T853 = d1_alloc(n/2, w1, r, s, T854, w1_0, (n/4 + w1_1), (n/2 + w1_2), r_0, (n/2 + r_1), s_0, (n/4 + s_1), 0, n/4)
  d1(T853, 0, 0, n/2, w1, r, s, T854, w1_0, (n/4 + w1_1), (n/2 + w1_2), r_0, (n/2 + r_1), s_0, (n/4 + s_1), 0, n/4)
  b1(T, oi, (oj + n/4), n/2, w, T853, s, t, w1, w_0, (n/4 + w_1), (n/4 + w_2), 0, (-1)*n/4, s_0, s_1, (n/4 + t_0), (n/4 + t_1), w1_0, w1_1, (n/4 + w1_2))
  T859 = b1_alloc(n/2, w, r, s, t, w1, (n/4 + w_0), (n/4 + w_1), (n/4 + w_2), (n/4 + r_0), (n/4 + r_1), (n/4 + s_0), (n/4 + s_1), (n/4 + t_0), (n/4 + t_1), (n/4 + w1_0), (n/4 + w1_1), (n/4 + w1_2))
  b1(T859, 0, 0, n/2, w, r, s, t, w1, (n/4 + w_0), (n/4 + w_1), (n/4 + w_2), (n/4 + r_0), (n/4 + r_1), (n/4 + s_0), (n/4 + s_1), (n/4 + t_0), (n/4 + t_1), (n/4 + w1_0), (n/4 + w1_1), (n/4 + w1_2))
  T858 = d1_alloc(n/2, w1, r, s, T859, w1_0, (n/4 + w1_1), (n/2 + w1_2), r_0, (n/2 + r_1), s_0, (n/4 + s_1), 0, n/4)
  d1(T858, 0, 0, n/2, w1, r, s, T859, w1_0, (n/4 + w1_1), (n/2 + w1_2), r_0, (n/2 + r_1), s_0, (n/4 + s_1), 0, n/4)
  T857 = b1_alloc(n/2, w, T858, s, t, w1, w_0, (n/4 + w_1), (n/4 + w_2), 0, (-1)*n/4, s_0, s_1, (n/4 + t_0), (n/4 + t_1), w1_0, w1_1, (n/4 + w1_2))
  b1(T857, 0, 0, n/2, w, T858, s, t, w1, w_0, (n/4 + w_1), (n/4 + w_2), 0, (-1)*n/4, s_0, s_1, (n/4 + t_0), (n/4 + t_1), w1_0, w1_1, (n/4 + w1_2))
  T856 = d1_alloc(n/2, w, r, T857, t, w_0, (n/2 + w_1), (3*n/4 + w_2), r_0, (3*n/4 + r_1), 0, n/4, (n/2 + t_0), (3*n/4 + t_1))
  d1(T856, 0, 0, n/2, w, r, T857, t, w_0, (n/2 + w_1), (3*n/4 + w_2), r_0, (3*n/4 + r_1), 0, n/4, (n/2 + t_0), (3*n/4 + t_1))
  T862 = b1_alloc(n/2, w, r, s, t, w1, (n/4 + w_0), (n/4 + w_1), (n/4 + w_2), (n/4 + r_0), (n/4 + r_1), (n/4 + s_0), (n/4 + s_1), (n/4 + t_0), (n/4 + t_1), (n/4 + w1_0), (n/4 + w1_1), (n/4 + w1_2))
  b1(T862, 0, 0, n/2, w, r, s, t, w1, (n/4 + w_0), (n/4 + w_1), (n/4 + w_2), (n/4 + r_0), (n/4 + r_1), (n/4 + s_0), (n/4 + s_1), (n/4 + t_0), (n/4 + t_1), (n/4 + w1_0), (n/4 + w1_1), (n/4 + w1_2))
  T861 = d1_alloc(n/2, w, r, T862, t, (n/4 + w_0), (n/2 + w_1), (3*n/4 + w_2), (n/4 + r_0), (3*n/4 + r_1), 0, n/4, (n/2 + t_0), (3*n/4 + t_1))
  d1(T861, 0, 0, n/2, w, r, T862, t, (n/4 + w_0), (n/2 + w_1), (3*n/4 + w_2), (n/4 + r_0), (3*n/4 + r_1), 0, n/4, (n/2 + t_0), (3*n/4 + t_1))
  T860 = b1_alloc(n/2, w, T861, s, t, w1, (n/4 + w_0), (n/2 + w_1), (n/2 + w_2), 0, (-1)*n/4, (n/4 + s_0), (n/4 + s_1), (n/2 + t_0), (n/2 + t_1), (n/4 + w1_0), (n/4 + w1_1), (n/2 + w1_2))
  b1(T860, 0, 0, n/2, w, T861, s, t, w1, (n/4 + w_0), (n/2 + w_1), (n/2 + w_2), 0, (-1)*n/4, (n/4 + s_0), (n/4 + s_1), (n/2 + t_0), (n/2 + t_1), (n/4 + w1_0), (n/4 + w1_1), (n/2 + w1_2))
  T855 = d1_alloc(n/2, w1, T856, s, T860, w1_0, (n/4 + w1_1), (3*n/4 + w1_2), 0, 0, s_0, (n/4 + s_1), 0, n/4)
  d1(T855, 0, 0, n/2, w1, T856, s, T860, w1_0, (n/4 + w1_1), (3*n/4 + w1_2), 0, 0, s_0, (n/4 + s_1), 0, n/4)
  b1(T, oi, (oj + n/2), n/2, w, T855, s, t, w1, w_0, (n/2 + w_1), (n/2 + w_2), 0, (-1)*n/4, s_0, s_1, (n/2 + t_0), (n/2 + t_1), w1_0, w1_1, (n/2 + w1_2))
  b1(T, (oi + n/4), (oj + n/4), n/2, w, r, s, t, w1, (n/4 + w_0), (n/4 + w_1), (n/4 + w_2), (n/4 + r_0), (n/4 + r_1), (n/4 + s_0), (n/4 + s_1), (n/4 + t_0), (n/4 + t_1), (n/4 + w1_0), (n/4 + w1_1), (n/4 + w1_2))
  T864 = b1_alloc(n/2, w, r, s, t, w1, (n/4 + w_0), (n/4 + w_1), (n/4 + w_2), (n/4 + r_0), (n/4 + r_1), (n/4 + s_0), (n/4 + s_1), (n/4 + t_0), (n/4 + t_1), (n/4 + w1_0), (n/4 + w1_1), (n/4 + w1_2))
  b1(T864, 0, 0, n/2, w, r, s, t, w1, (n/4 + w_0), (n/4 + w_1), (n/4 + w_2), (n/4 + r_0), (n/4 + r_1), (n/4 + s_0), (n/4 + s_1), (n/4 + t_0), (n/4 + t_1), (n/4 + w1_0), (n/4 + w1_1), (n/4 + w1_2))
  T863 = d1_alloc(n/2, w, r, T864, t, (n/4 + w_0), (n/2 + w_1), (3*n/4 + w_2), (n/4 + r_0), (3*n/4 + r_1), 0, n/4, (n/2 + t_0), (3*n/4 + t_1))
  d1(T863, 0, 0, n/2, w, r, T864, t, (n/4 + w_0), (n/2 + w_1), (3*n/4 + w_2), (n/4 + r_0), (3*n/4 + r_1), 0, n/4, (n/2 + t_0), (3*n/4 + t_1))
  b1(T, (oi + n/4), (oj + n/2), n/2, w, T863, s, t, w1, (n/4 + w_0), (n/2 + w_1), (n/2 + w_2), 0, (-1)*n/4, (n/4 + s_0), (n/4 + s_1), (n/2 + t_0), (n/2 + t_1), (n/4 + w1_0), (n/4 + w1_1), (n/2 + w1_2))
def c1_alloc(n, w, r, w_0, w_1, w_2, r_0, r_1):
  return zeros((n, n), int)
def c1(T, oi, oj, n, w, r, w_0, w_1, w_2, r_0, r_1):
  if (n < 4):
    c0(T, oi, oj, n, w, r, w_0, w_1, w_2, r_0, r_1)
    return
  c1(T, oi, oj, n/2, w, r, w_0, w_1, w_2, r_0, r_1)
  T865 = c1_alloc(n/2, w, r, w_0, w_1, w_2, r_0, r_1)
  c1(T865, 0, 0, n/2, w, r, w_0, w_1, w_2, r_0, r_1)
  T866 = c1_alloc(n/2, w, r, (n/2 + w_0), (n/2 + w_1), (n/2 + w_2), (n/2 + r_0), (n/2 + r_1))
  c1(T866, 0, 0, n/2, w, r, (n/2 + w_0), (n/2 + w_1), (n/2 + w_2), (n/2 + r_0), (n/2 + r_1))
  b1(T, oi, oj, n, w, r, T865, T866, w, w_0, w_1, w_2, r_0, r_1, 0, 0, (-1)*n/2, (-1)*n/2, w_0, w_1, w_2)
  c1(T, (oi + n/2), (oj + n/2), n/2, w, r, (n/2 + w_0), (n/2 + w_1), (n/2 + w_2), (n/2 + r_0), (n/2 + r_1))
def r_alloc():
  return zeros((n, n), int)
def r(T, oi, oj):
  for i0 in xrange(0,n):
    for j0 in xrange((i0 + 1),n):
      i = i0
      j = j0
      assert ((((0 <= i) and (i < n)) and (i < j)) and (j < n))
      T[(i + oi), (j + oj)] = (x[i] if (i == (j - 1)) else zero)
def c0_alloc(n, w, r, w_0, w_1, w_2, r_0, r_1):
  return zeros((n, n), int)
def c0(T, oi, oj, n, w, r, w_0, w_1, w_2, r_0, r_1):
  for i0 in xrange(((-1)*n + 1),1):
    for j0 in xrange(((-1)*i0 + 1),n):
      i = (0 - i0)
      j = j0
      assert ((((0 <= i) and (i < n)) and (i < j)) and (j < n))
      T[(i + oi), (j + oj)] = plus(reduce(plus, [((T[(i + oi), (k + oj)] + T[(k + oi), (j + oj)]) + w[(i + w_0), (k + w_1), (j + w_2)]) for k in xrange((i + 1), j)], zero), r[(i + r_0), (j + r_1)])
def b0_alloc(n, w, r, s, t, w1, w_0, w_1, w_2, r_0, r_1, s_0, s_1, t_0, t_1, w1_0, w1_1, w1_2):
  return zeros((n/2, n), int)
def b0(T, oi, oj, n, w, r, s, t, w1, w_0, w_1, w_2, r_0, r_1, s_0, s_1, t_0, t_1, w1_0, w1_1, w1_2):
  for i0 in xrange(((-1)*n/2 + 1),1):
    for j0 in xrange(n/2,n):
      i = (0 - i0)
      j = j0
      assert (((((0 <= i) and (i < n)) and (i < j)) and (j < n)) and ((i < n/2) and (not (j < n/2))))
      T[(i + oi), (j + oj)] = plus(reduce(plus, [((s[(i + s_0), (k1 + s_1)] + T[(k1 + oi), (j + oj)]) + w1[(i + w1_0), (k1 + w1_1), (j + w1_2)]) for k1 in xrange((i + 1), n/2)] + [((T[(i + oi), (k2 + oj)] + t[(k2 + t_0), (j + t_1)]) + w[(i + w_0), (k2 + w_1), (j + w_2)]) for k2 in xrange(n/2, j)], zero), r[(i + r_0), (j + r_1)])
def d_alloc(n, w, r, s, t, w_0, w_1, w_2, r_0, r_1, s_0, s_1, t_0, t_1):
  return zeros((n/2, n/2), int)
def d(T, oi, oj, n, w, r, s, t, w_0, w_1, w_2, r_0, r_1, s_0, s_1, t_0, t_1):
  for i0 in xrange(0,n/2):
    for j0 in xrange(0,n/2):
      i = i0
      j = j0
      assert ((((0 <= i) and (i < n/2)) and (0 <= j)) and (j < n/2))
      T[(i + oi), (j + oj)] = plus(reduce(plus, [((s[(i + s_0), (k + s_1)] + t[(k + t_0), (j + t_1)]) + w[(i + w_0), (k + w_1), (j + w_2)]) for k in xrange(0, n/2)], zero), r[(i + r_0), (j + r_1)])
print "c"
T1 = c_alloc()
c(T1, 0, 0)
print T1
print "c1"
T2 = r_alloc()
r(T2, 0, 0)
c1(T2, 0, 0, n, w, T2, 0, 0, 0, 0, 0)
print T2
print array_equal(T1, T2)
